h1. yab_api_cache

p. Simple URL cache.
Caches the outout of an url (as simple GET APIs, URIs, websites etc.).
It can also be used to cache dynamic pages of the own site. Especially the ones with a lot of huge dynamic lists (you can use "etc_cache":http://www.iut-fbleau.fr/projet/etc/index.php?id=52 parts of the site).

p. *Version:* 0.1.2

h2. Table of contents

# "Plugin requirements":#help-requirements
# "Configuration":#help-config
# "Tags":#help-tags
# "Examples":#help-examples
# "Changelog":#help-changelog
# "License":#help-license
# "Author contact":#help-contact

h2(#help-requirements). Plugin requirements

* Textpattern >= 4.7.x

h2(#help-config). Configuration

Open the plugin code. The yab_api_cache function contains the configuration values. Can also be configured by tag attributes. See tag attribute for info.

h2(#help-tags). Tags

h3. yab_api_cache

This tag will output the content of a given url live or cached.

*id:* any valid string or empty
Default: __not set__
A valid string to identify the content, If not provided ist will be generated by md5 the utl attrbiute.

*url:* a valid string (URI)
Default: __null__
The URI which to be requested and shown

*cached:* integer|bool (1|0)
Default: __true__
If set to 0 (false) the requested content is live instead of the cached one.

*cache_time:* integer (seconds)
Default: __3600__
Cache time in seconds

*clear_cache:* integer|bool (1|0)
Default: __false__
If set to 1 (truly) it will clear the entire cache.

h2(#help-examples). Examples

h3. Example: simplest

bc. <txp:yab_api_cache url="https://exmaple.com/api/show/users" />

p. Shows the cached output of the given url. Renews the chache after 1 hour (3600 seconds). The md5 hash of the url is used as id.

h3. Example: advanced

bc. <txp:yab_api_cache id="my-api-call" url="https://exmaple.com/api/show/users" cache_time="86400" />

p. Shows the cached output of the given url. Renews the chache after 1 day (86400 seconds). An own id is privided

h3. Example: no-cache

bc. <txp:yab_api_cache id="my-api-call" url="https://exmaple.com/api/show/users" cached="0" />

p. Shows the live output of the given url. An own id is privided.

h3. Example: reset

bc. <txp:yab_api_cache clear_cache="1" />

p. Clears the entire cache (Empties the table). 

h2(#help-changelog). Changelog

* v0.1.2 - 2020-03-21
** modified: add plugin help, public release
* v0.1.1 - 2018-02-14
** bugfix: id and url will be parsed
** modifed: id not mandatory, will be created by url
* v0.1.0 - 2017-10-29
** initial release

h2(#help-license). Licence

This plugin is released under the GNU General Public License Version 2 and above

* Version 2: "https://www.gnu.org/licenses/old-licenses/gpl-2.0.html":https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
* Version 3: "https://www.gnu.org/licenses/gpl-3.0.html":https://www.gnu.org/licenses/gpl-3.0.html

h2(#help-contact). Author contact

* "Author's blog":https://www.yablo.de/
* "Author's site":https://tommyschmucker.de/
* "Plugin on GitHub":https://github.com/trenc/yab_api_cache
